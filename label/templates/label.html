<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Image Label Review</title>
</head>
<body onkeydown="fun(event)">
{% load static %}
<table>
    <tr>
        <td><img width="100%" src="{% static img.path %}"/></td>
{#        <td><img src="{% static kaggle.right_image %}"/></td>#}
    </tr>
    <tr>
        <td><label>{{img.label}}</label></td>
{#        <td><label>{{kaggle.right_filename}}</label></td>#}
    </tr>
</table>


<form action="{% url 'label:commit' img.filename %} " method="post">
    {% csrf_token %}
    <button type="submit" name="right">right</button>
    <button type="submit" name="wrong">wrong</button>
    <button type="submit" name="unknown">unknown</button>
</form>


<p>{{progress}}</p>
</body>
<script type="text/javascript">
    var KEY = {
        LEFT: 37,
        RIGHT: 39,
        DOWN: 40
    };
    var right = document.getElementsByName("right")[0];
    var wrong = document.getElementsByName("wrong")[0];
    var unknown = document.getElementsByName("unknown")[0];
    function fun(e) {
        switch (e.which) {
            case KEY.LEFT:
                right.click();
                break;
            case KEY.RIGHT:
                wrong.click();
                break;
            case KEY.DOWN:
                unknown.click();
                break;
        }
    }

</script>
</html>